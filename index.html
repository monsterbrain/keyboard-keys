<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>keys demo</title>
    <link rel="stylesheet" type="text/css" href="keys.css"/>
    <style>
      body {
        padding: 20px;
        background: #bbb;
        color: #666;
        font-family: Helvetica Neue,Helvetica,Arial,sans-serif;
      }
      h2 {
        font-weight: normal;
        font-size: 18px;
      }
      .section > div {
        display: inline-block;
        margin: 2px;
      }
    </style>
  </head>
  <body>
    <div>
      <button>switch theme</button>
    </div>
    <div class="section">
      <h2>functions</h2>
      <div>
        <icon class="keyboard-key esc"></icon>
      </div>
      <div>
        <icon class="keyboard-key f1"></icon>
      </div>
      <div>
        <icon class="keyboard-key f2"></icon>
      </div>
      <div>
        <icon class="keyboard-key f3"></icon>
      </div>
      <div>
        <icon class="keyboard-key f4"></icon>
      </div>
      <div>
        <icon class="keyboard-key f5"></icon>
      </div>
      <div>
        <icon class="keyboard-key f6"></icon>
      </div>
      <div>
        <icon class="keyboard-key f7"></icon>
      </div>
      <div>
        <icon class="keyboard-key f8"></icon>
      </div>
      <div>
        <icon class="keyboard-key f9"></icon>
      </div>
      <div>
        <icon class="keyboard-key f10"></icon>
      </div>
      <div>
        <icon class="keyboard-key f11"></icon>
      </div>
      <div>
        <icon class="keyboard-key f12"></icon>
      </div>
      <div>
        <icon class="keyboard-key eject"></icon>
      </div>
    </div>
    <div class="section">
      <h2>numbers</h2>
      <div>
        <icon class="keyboard-key one"></icon>
      </div>
      <div>
        <icon class="keyboard-key two"></icon>
      </div>
      <div>
        <icon class="keyboard-key three"></icon>
      </div>
      <div>
        <icon class="keyboard-key four"></icon>
      </div>
      <div>
        <icon class="keyboard-key five"></icon>
      </div>
      <div>
        <icon class="keyboard-key six"></icon>
      </div>
      <div>
        <icon class="keyboard-key seven"></icon>
      </div>
      <div>
        <icon class="keyboard-key eight"></icon>
      </div>
      <div>
        <icon class="keyboard-key nine"></icon>
      </div>
      <div>
        <icon class="keyboard-key zero"></icon>
      </div>
    </div>
    <div class="section">
      <h2>alphabet</h2>
      <div>
        <icon class="keyboard-key q"></icon>
      </div>
      <div>
        <icon class="keyboard-key w"></icon>
      </div>
      <div>
        <icon class="keyboard-key e"></icon>
      </div>
      <div>
        <icon class="keyboard-key r"></icon>
      </div>
      <div>
        <icon class="keyboard-key t"></icon>
      </div>
      <div>
        <icon class="keyboard-key y"></icon>
      </div>
      <div>
        <icon class="keyboard-key u"></icon>
      </div>
      <div>
        <icon class="keyboard-key i"></icon>
      </div>
      <div>
        <icon class="keyboard-key o"></icon>
      </div>
      <div>
        <icon class="keyboard-key p"></icon>
      </div>
      <div>
        <icon class="keyboard-key a"></icon>
      </div>
      <div>
        <icon class="keyboard-key s"></icon>
      </div>
      <div>
        <icon class="keyboard-key d"></icon>
      </div>
      <div>
        <icon class="keyboard-key f"></icon>
      </div>
      <div>
        <icon class="keyboard-key g"></icon>
      </div>
      <div>
        <icon class="keyboard-key h"></icon>
      </div>
      <div>
        <icon class="keyboard-key j"></icon>
      </div>
      <div>
        <icon class="keyboard-key k"></icon>
      </div>
      <div>
        <icon class="keyboard-key l"></icon>
      </div>
      <div>
        <icon class="keyboard-key z"></icon>
      </div>
      <div>
        <icon class="keyboard-key x"></icon>
      </div>
      <div>
        <icon class="keyboard-key c"></icon>
      </div>
      <div>
        <icon class="keyboard-key v"></icon>
      </div>
      <div>
        <icon class="keyboard-key b"></icon>
      </div>
      <div>
        <icon class="keyboard-key n"></icon>
      </div>
      <div>
        <icon class="keyboard-key m"></icon>
      </div>
    </div>
    <div class="section">
      <h2>utilities</h2>
      <div>
        <icon class="keyboard-key tab"></icon>
      </div>
      <div>
        <icon class="keyboard-key shift"></icon>
      </div>
      <div>
        <icon class="keyboard-key ctrl"></icon>
      </div>
      <div>
        <icon class="keyboard-key alt"></icon>
      </div>
      <div>
        <icon class="keyboard-key option"></icon>
      </div>
      <div>
        <icon class="keyboard-key cmd"></icon>
      </div>
      <div>
        <icon class="keyboard-key space"></icon>
      </div>
      <div>
        <icon class="keyboard-key return"></icon>
      </div>
      <div>
        <icon class="keyboard-key delete"></icon>
      </div>
    </div>
    <div class="section">
      <h2>arrows</h2>
      <div>
        <icon class="keyboard-key left"></icon>
      </div>
      <div>
        <icon class="keyboard-key down"></icon>
      </div>
      <div>
        <icon class="keyboard-key right"></icon>
      </div>
      <div>
        <icon class="keyboard-key up"></icon>
      </div>
    </div>
    <script>
      var icons = document.querySelectorAll('icon')
      var button = document.querySelectorAll('button')[0]

      button.addEventListener('click', switchTheme)

      function switchTheme() {
        var l = icons.length
        while (l--) icons[l].classList.toggle('dark')
      }

      window.addEventListener('keydown', classy('add', 'keyboard-keydown'))
      window.addEventListener('keyup', classy('remove', 'keyboard-keydown'))

      function classy (method, className) {
        return function (e) {
          var els = getKeyEl(e)
          while (els.length) els.pop().classList[method](className)
        }
      }

      var keyMap = {
        8: 'delete',
        9: 'tab',
        13: 'return',
        16: 'shift',
        17: 'ctrl',
        18: 'alt, .keyboard-key.option',
        27: 'esc',
        32: 'space',
        91: 'cmd',
        37: 'left',
        38: 'up',
        39: 'right',
        40: 'down'
      }

      function getKeyEl (e) {
        var char = String.fromCharCode(e.which)
        if (e.which >= 112 && e.which < 112 + 12) {
          char = 'f' + (e.which - 111)
        } else if (keyMap[e.which]) {
          char = keyMap[e.which]
        } else if (/\d/.test(char)) {
          char = ['zero','one','two','three','four', 'five','six','seven','eight','nine'][Number(char)]
        }
        if (char) {
          var charEl = document.querySelectorAll('.keyboard-key.' + char.toLowerCase())
          if (charEl.length) return [].slice.call(charEl)
        }
      }
    </script>
  </body>
</html>
